<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script src="vconsole.min.js"></script>
<script> var vConsole = new VConsole();</script>
<script src="BYGL.js"></script>
<script>
badyoo.power(800,450,false);
badyoo.bgColor(0x333333);
var layer = badyoo.Instantiate(badyoo.Layer);
var arr = [];
// for( var i = 0;i<3000;i++ )
// {
//     var image = layer.Instantiate(badyoo.Image);
//     image.name = "name"+i;
//     image.skin = Math.random() > 0.5 ? "leaves.jpg" : "tile.png";
//     image.x = badyoo.Maths.random(0,800);
//     image.y = badyoo.Maths.random(0,400);
//     image.pivot(120,90);
//     image.rotation = 90;
//     image.globalToLocal(image.localToGlobal(new badyoo.Point()));
//     image.onTouchDown = function()
//     {
//         console.log("dowm"+this.name);
//     }
//     var s = Math.random();
//     image.scale(s,s);
//     arr[i] = image;
// }
badyoo.Loop.update(this,a);
function a()
{
    var num = arr.length;
    for( var i = 1;i<num;i++ )
    {
        var image = arr[i]
        image.rotation ++;
    }
}
badyoo.Loader.load("assets.json",badyoo.Handler.create(this,load),"atlas");
function load2()
{
    badyoo.loadFont("text.png",38,38,"0123456789+x连击");
    
    var sf = layer.Instantiate(badyoo.SpriteFont);
    sf.width = 300;
    sf.font = "text.png"
    sf.align = "right";
    sf.text = "连击+100";
    sf.move(400,200);

    var sf = layer.Instantiate(badyoo.SpriteFont);
    sf.width = 300;
    sf.font = "text.png"
    sf.text = "连击+100";
    sf.move(400,300);

    var sf = layer.Instantiate(badyoo.SpriteFont);
    sf.width = 300;
    sf.font = "text.png"
    sf.align = "center";
    sf.text = "连击+100";
    sf.move(400,100);

    var num = 0;
    badyoo.Loop.update(this,function()
    {
        sf.text = "连击+" + num;
        num++;
    });
}
function load()
{
    var image = layer.Instantiate(badyoo.Image);
    image.skin = "leaves.jpg";
    image.width = 800;
    image.height = 450;
    for( var i = 0;i<1500;i++ )
    {
        var sprite = layer.Instantiate(badyoo.Sprite);
        sprite.fps = 30;
        sprite.skin = "assets.json";
        sprite.x = 0;
        sprite.y = 0;
        var s = Math.random();
        sprite.scale(s,s);
        arr[i] = sprite;
        sprite.playAni(Math.random() > 0.5 ? "player" : "yu1");
        sprite.pivot(sprite.width>>1,sprite.height>>1);
    }
    for( var i = 0;i<1500;i++ )
    {
        var image = layer.Instantiate(badyoo.Image);
        image.name = "name"+i;
        image.skin = Math.random() > 0.5 ? "leaves.jpg" : "tile.png";
        image.x = badyoo.Maths.random(0,800);
        image.y = badyoo.Maths.random(0,400);
        image.pivot(120,90);
        image.rotation = 90;
        image.onTouchDown = function()
        {
            console.log("dowm"+this.name);
        }
        1
        var s = Math.random();
        image.scale(s,s);
        arr.push( image);
    }

    badyoo.Loader.load("text.png",badyoo.Handler.create(this,load2));
}
</script>

    
</body>
</html>